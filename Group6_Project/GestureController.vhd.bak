-- Top-level module for DE0 nano
-- Group 6 - Gesture-based Controller Design
-- ECE492w2014. @author: German R. Gomez Urbina.

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;
use ieee.VITAL_Primitives.all;
use work.DE2_CONSTANTS.all;

entity GestureController is
port (

	CLOCK_50 : in std_logic; -- Port for clock input
	
	-- Ports for SDRAM core
	SDRAM_addr   : out std_logic_vector(11 downto 0); -- addr
	SDRAM_ba     : out std_logic_vector(1 downto 0);  -- ba
	SDRAM_cas_n  : out std_logic;                     -- cas_n
	SDRAM_cke    : out std_logic;                     -- cke
	SDRAM_cs_n   : out std_logic;                     -- cs_n
	SDRAM_dq     : inout std_logic_vector(15 downto 0) := (others => 'X'); -- dq
	SDRAM_dqm    : out std_logic_vector(1 downto 0);  -- dqm
	SDRAM_ras_n  : out std_logic;                     -- ras_n
	SDRAM_we_n   : out std_logic;                     -- we_n
	
	-- Green LEDs port
	LEDG : out DE2_LED_GREEN
);
end GestureController;

architecture structure of GestureController is

	component GestureController is
		port (
			leds_external_connection_export  : out     DE2_LED_GREEN;                      -- export
			sdram_addr                : out   std_logic_vector(11 downto 0);      -- addr
			sdram_ba                  : out   std_logic_vector(1 downto 0);       -- ba
			sdram_cas_n               : out   std_logic;                          -- cas_n
			sdram_cke                 : out   std_logic;                          -- cke
			sdram_cs_n                : out   std_logic;                          -- cs_n
			sdram_dq                  : inout std_logic_vector(15 downto 0) := (others => 'X'); -- dq
			sdram_dqm                 : out   std_logic_vector(1 downto 0);       -- dqm
			sdram_ras_n               : out   std_logic;                          -- ras_n
			sdram_we_n                : out   std_logic;                          -- we_n
			clk_in_clk                : in    std_logic              := 'X'       -- clk
		);
end component GestureController;

begin
    u0 : component GestureController
        port map (
            leds_external_connection_export => LEDG,
            sdram_addr                => SDRAM_addr,
            sdram_ba                  => SDRAM_ba,
            sdram_cas_n               => SDRAM_cas_n,
            sdram_cke                 => SDRAM_cke,
            sdram_cs_n                => SDRAM_cs_n,
            sdram_dq                  => SDRAM_dq,
            sdram_dqm                 => SDRAM_dqm,
            sdram_ras_n               => SDRAM_ras_n,
            sdram_we_n                => SDRAM_we_n,
            clk_in_clk                => CLOCK_50
        );
end structure;